{% extends 'base.html' %}


{% block content %}
<div class="container">
    <h2>Products</h2>
    <hr>
    <br>
    <input type="text" placeholder="Search for item"> <button>Search</button>
    <br>
    <br>
    <table class="table table-striped">
        <thead class="bg-dark text-white">
            <tr>
                <th> Name </th>
                <th> Description </th>
                <th> Unit price</th>
                <th> Quantity </th>
            </tr>
        </thead>
        <tbody>
            {% for product in products%}
            <tr>
                <td>{{ product.name }}</td>
                <td>{{ product.description }}</td>
                <td>{{ product.price }}</td>
                <td>{{ product.available_quantity }}</td>

            </tr>

            {% empty %}
            <tr>
                <td colspan="7">
                    <h1>There are no Items...</h2>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="myoverlay full-screen" id="add-product-view">
    <i class="myclose">x</i>
    <div class="container">
        {% include 'add_product.html' %}
    </div>
</div>

<div class="myoverlay full-screen" id="add-purchase-view">
    <i class="myclose">x</i>
    <div class="container">
        {% include 'add_purchase.html' %}
    </div>
</div>

<div class="myoverlay full-screen" id="add-supply-view">
    <i class="myclose btn btn-danger">x</i>
    <div class="container">
        {% include 'add_supply.html' %}
    </div>
</div>
<script>
    document.querySelector("#add-supply-link").addEventListener("click", function (e) {
        document.querySelector("#add-supply-view").classList.toggle("show");
    });
    document.querySelector("#add-product-link").addEventListener("click", function (e) {
        document.querySelector("#add-product-view").classList.toggle("show");
    });
    document.querySelector("#add-purchase-link").addEventListener("click", function (e) {
        document.querySelector("#add-purchase-view").classList.toggle("show");
    });
    let closes = document.getElementsByClassName("myclose");
    for (let i = 0; i < closes.length; i++) {
        closes[i].addEventListener('click', function (e) {
            this.parentNode.classList.toggle("show");
        });
    }
</script>
{% endblock %}